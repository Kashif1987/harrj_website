(this["webpackJsonpvirtual-shopping"]=this["webpackJsonpvirtual-shopping"]||[]).push([[24],{127:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(11),o=a(30),r=a(31),s=a(75),i=a.n(s),c=(a(69),"http://localhost:3443/"),l=new(function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,[{key:"AdminLogin",value:function(e,t){var a=new FormData;return a.set("email_id",e),a.set("password",t),i.a.post(c+"login/loginadmin",a).then((function(e){return console.log("loging resp"),console.log(e),e.data.token&&"undefined"!==typeof e.data.token&&""!==e.data.token?(console.log("auth token"),console.log(JSON.stringify(e.data)),localStorage.setItem("user",JSON.stringify(e.data))):localStorage.removeItem("user"),e.data}))}},{key:"UserLoginOtp",value:function(e){return i.a.post(c+"api/admin/login",{mobile_no:e}).then((function(e){return e.data}))}},{key:"UserLoginOtpVerify",value:function(e,t){return i.a.post(c+"api/admin/login_otp_verify",{mobile_no:e,otp:t}).then((function(e){return console.log("service response:"),console.log(e),e.data.token&&"undefined"!==typeof e.data.token&&""!==e.data.token?localStorage.setItem("user",JSON.stringify(e.data)):localStorage.removeItem("user"),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("userId")}},{key:"logoutAdmin",value:function(){localStorage.removeItem("user"),localStorage.removeItem("userId")}}]),e}()),u=function(e,t){return function(a){return l.AdminLogin(e,t).then((function(e){return a({type:n.e,payload:{user:e}}),Promise.resolve(e)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return a({type:n.d}),a({type:n.i,payload:t}),Promise.reject(e)}))}}},2074:function(e,t,a){"use strict";a.r(t);var n=a(30),o=a(31),r=a(36),s=a(33),i=a(32),c=a(0),l=a.n(c),u=a(96),m=a.n(u),g=a(97),d=a.n(g),p=a(16),h=a(68),f=a(67),v=(a(15),a(34),a(29),a(47),a(46),a(48),a(66),a(78)),b=(a(79),a(127)),y=a(77),k=a.n(y);v.a.configure();var E=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).onChangeEmailID=o.onChangeEmailID.bind(Object(r.a)(o)),o.onChangePassword=o.onChangePassword.bind(Object(r.a)(o)),o.handleSubmit=o.handleSubmit.bind(Object(r.a)(o)),o.state={email_id:"",password:""},f.a.listen((function(t){e.dispatch(Object(h.a)())})),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("user"))}},{key:"onChangeEmailID",value:function(e){console.log("email id is i"),console.log(e.target.value),this.setState({email_id:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("submit btuon"),this.setState({loading:!0}),this.Addform.validateAll();var a=this.props,n=a.dispatch;a.history;0===this.checkBtn.context._errors.length?n(Object(b.a)(this.state.email_id,this.state.password)).then((function(e){console.log("response reced"),console.log(e),e.success||"true"===e.success||!0===e.success?(v.a.success("successful..!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),window.location.href="/admin/dashboard"):v.a.error(e.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeonClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){t.setState({loading:!1}),v.a.error("something went wrong..!!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})):(this.setState({loading:!1}),v.a.error("something went wrong..!!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))}},{key:"render",value:function(){var e=this,t=this.props;t.isLoggedIn,t.message;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"account-page login-page-body",style:{"background-color":"#ef493e!important"}},l.a.createElement("div",{className:"main-wrapper"},l.a.createElement("div",{className:"account-content"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"account-logo"},l.a.createElement("a",{href:"javascript:void(0)"},l.a.createElement("img",{src:k.a,alt:"Harraj",height:"110px"}))),l.a.createElement("div",{className:"account-box"},l.a.createElement("div",{className:"account-wrapper"},l.a.createElement("h3",{className:"account-title"},"Login"),l.a.createElement(m.a,{onSubmit:this.handleSubmit,ref:function(t){e.Addform=t}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{className:"form-control",type:"text",onChange:this.onChangeEmailID})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"Password"))),l.a.createElement("input",{className:"form-control",type:"password",onChange:this.onChangePassword})),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement("button",{className:"btn btn-primary account-btn",type:"submit"},"Login")),l.a.createElement(d.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})))))))))}}]),a}(c.Component);t.default=Object(p.b)((function(e){return{user:e.auth.user,isLoggedIn:e.auth.isLoggedIn,message:e.message.message}}))(E)},66:function(e,t,a){},67:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(99),o=Object(n.a)()},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(11),o=function(){return{type:n.a}}},69:function(e,t,a){"use strict";function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-access-token":e.token}:{}}a.d(t,"a",(function(){return n}))},77:function(e,t,a){e.exports=a.p+"static/media/logo2.462c788f.png"}}]);
//# sourceMappingURL=24.48347810.chunk.js.map